package org.exoplatform.selenium.platform.portal.func.account;

import org.openqa.selenium.firefox.FirefoxDriver;
import org.openqa.selenium.interactions.Actions;
import org.testng.Assert;
import org.testng.annotations.AfterGroups;
import org.testng.annotations.BeforeGroups;

import org.exoplatform.selenium.platform.portal.func.account.AccountHelpers;

public class Test_PLT_ACC_015_016_021_022 extends AccountHelpers{
	
	@BeforeGroups(groups = {"platform"})
	public void beforeTest() throws Exception {
		/*FirefoxProfile firefoxProfile = new FirefoxProfile();
		firefoxProfile.setEnableNativeEvents(false);
		driver = new FirefoxDriver(firefoxProfile);*/
		driver = new FirefoxDriver();
    	actions = new Actions(driver);
    	baseUrl = "http://localhost:8080";
    	driver.get(baseUrl + "/portal/intranet/");
    	pause(3000);
	}

	@AfterGroups(groups = {"platform"})
	public void afterTest() throws Exception {
		driver.quit();
		String verificationErrorString = verificationErrors.toString();
		if (!"".equals(verificationErrorString)) {
			Assert.fail(verificationErrorString);
		}
	}
	
	public void testPLT_ACC_015_016_021_022(){
		signIn("john","gtn");
		pause(3000);
		goToNewStaff();
		pause(3000);
		log("-- Create new account with First Name existing  --");
		addNewUserAccount("exogtn", "GTN PLT ACC", "GTN PLT ACC", "john", 
				"lastname", "exo_test22@gmail.com", "", "English", true);
		waitForMessage("You have registered a new account.");
		closeMessageDialog();
		pause(3000);
		
		log("-- Create new account with Last Name existing --");
		addNewUserAccount("plf", "GTN PLT ACC", "GTN PLT ACC", "firstname", 
				"Smith", "exo_test23@gmail.com", "", "English", true);	
		waitForMessage("You have registered a new account.");
		closeMessageDialog();
		pause(3000);
		
		log("-- Create new account with First/Last Name field contains space  --");
		addNewUserAccount("plf1", "GTN PLT ACC", "GTN PLT ACC", "GTN PLT", 
				"GTN PLT", "exo_test231@gmail.com", "", "English", true);	
		waitForMessage("You have registered a new account.");
		closeMessageDialog();
		pause(3000);
		
		String lastname="exomailstexmailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtestexomailtest"; 
		log("-- Create new account when First/Last Name less than 1 or over 45 characters --");
		addNewUserAccount("plf2", "GTN PLT ACC", "GTN PLT ACC", "e", 
				lastname, "exo_test232@gmail.com", "", "English", true);	
		waitForMessage("The length of the text in field \"Last Name:\" must be between \"1\" and \"45\" characters.");
		closeMessageDialog();
		pause(3000);
	}
	
	
	
}
